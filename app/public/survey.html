<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>survey</title>
  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">
      <h1>Answer Questions</h1>
      <h3>We will match you with the best human on Earth.</h3>
      <a href="home.html"><button type="button" class="btn btn-danger btn-lg"><span class="glyphicon glyphicon-eye-open"></span> Home</button></a>
    
    <hr>
    <form method="POST" class="surveryME" onsubmit="return checkForm()">
    
      <h4>Give me your Name (Required)</h4>
        <input type="type" id="fullname" class="form-control name" placeholder="Full Name" required>
      <h4>Selfie Link (Required)</h4>
        <input type="url" id="selfie" class="form-control selfie" placeholder="Make it a good selfie" required>

      <hr> 
      
      <!-- Question 1 -->
      <div class="form">
        <h3>Question 1:</h3>
        <h4>How likely are you to keep your promises?</h4>
          <select class = "chosen" id="q1a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 2 -->
        <h3>Question 2:</h3>
        <h4>How strong would you said your communication skills are?</h4>
          <select class = "chosen" id="q2a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>
                
        <!-- Question 3 -->
        <h3>Question 3:</h3>
        <h4>How likely are you going to choose Chinese food for dinner?</h4>
          <select class = "chosen" id="q3a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 4 -->
        <h3>Question 4:</h3>
        <h4>How likely are you going to go out drinking every weekend?</h4>
          <select class = "chosen" id="q4a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 5 -->
        <h3>Question 5:</h3>
        <h4>How likely are you going to choose soda as a beverage?</h4>
          <select class = "chosen" id="q5a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 6 -->
        <h3>Question 6:</h3>
        <h4>How likely are you to be noted as a very quick paced person?</h4>
          <select class = "chosen" id="q6a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 7 -->
        <h3>Question 7:</h3>
        <h4>How likely are you going to choose Mac over PC?</h4>
          <select class = "chosen" id="q7a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 8 -->
        <h3>Question 8:</h3>
        <h4>How likely are you going to ride a bike with no handlebars?</h4>
          <select class = "chosen" id="q8a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 9 -->
        <h3>Question 9:</h3>
        <h4>How likely are you going to move out of state within the next 5 years?</h4>
          <select class = "chosen" id="q9a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>

        <!-- Question 10 -->
        <h3>Question 10:</h3>
        <h4>How likely are you going to go back to school to advance your eduaction?</h4>
          <select class = "chosen" id="q10a">
            <option value>Click to pick answer </option>
            <option value="a1">a1 Very Likely</option>
            <option value="a2">a2</option>
            <option value="a3">a3</option>
            <option value="a4">a4</option>
            <option value="a5">a5 Very Unlikely</option>
          </select>
          <br><br>
      </div>

        <button type="button" class="btn btn-info" id="submit-btn">Submit Here</button>
    </form>
    
    <hr>
    
    <div class="footer">
      <p>
        <a href="/api/friends">API Friends List</a> | 
        <a href="https://github.com/kaetee425/friendFinder">GitHub Repo</a> |
        <a href="#" id="clear">Clear Table</a>
      </p>
    </div>

    <div id="modal" role="dialog">
      <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title"><strong>Best Match: GoodLuck!</strong></h2>
        </div>
        <div class="modal-body">
          <h2 id="matchName"></h2>
          <img id="matchImg" src="#" alt="">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">BYEEEE</button>
        </div>
      </div>

    </div>

  </div>

  <script type="text/javascript">
   $("#submit-btn").on("click", function(){
      // Form validation
      function validateForm() {
      var isValid = true;
      $('.form-control').each(function() {
        if ( $(this).val() === '' )
            //isValid = false;
          isValid = false
      });
      $('.chosen').each(function() {
        if( $(this).val() === "")
          //isValid = false
          isValid = false
      })
      return isValid;
    }
    // If all required fields are filled
    if (validateForm() == true)
    {
      // Create an object for the user's data
        var userData = {
          name: $("#fullname").val(),
          photo: $("#selfie").val(),
          scores: [$("#q1a").val(), $("#q2a").val(), $("#q3a").val(), $("#q4a").val(), $("#q5a").val(), $("#q6a").val(), $("#q7a").val(), $("#q8a").val(), $("#q9a").val(), $("#q10a").val()]
        }
        // Grab the URL of the website
        var currentURL = window.location.origin;
        // AJAX post the data to the friends API. 
        
        $.post(currentURL + "/api/survey", userData, function(data){
          $("#matchName").text(data.name);
          $('#matchImg').attr("src", data.photo);
          // Show the modal with the best match 
          $("#resultsModal").modal('toggle');
        }); //$.post
    }
    else
    {
      alert("Finish the form if you want a friend!");
    }
      
      return false;
    });




  </script>

</body>
</html>
